{"remainingRequest":"/Users/account/repos/_personal/tracker/node_modules/thread-loader/dist/cjs.js!/Users/account/repos/_personal/tracker/node_modules/babel-loader/lib/index.js!/Users/account/repos/_personal/tracker/node_modules/eslint-loader/index.js??ref--13-0!/Users/account/repos/_personal/tracker/src/apiInterface.js","dependencies":[{"path":"/Users/account/repos/_personal/tracker/src/apiInterface.js","mtime":1617778901217},{"path":"/Users/account/repos/_personal/tracker/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/account/repos/_personal/tracker/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/account/repos/_personal/tracker/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/account/repos/_personal/tracker/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICcuL2V2ZW50LWJ1cy5qcyc7IC8vIEJhc2UgVVJMIGZvciBBUEkgQ2FsbHMgdG8gdGhlIHJlbWl4L2V2b2x2ZSBiYWNrZW5kCgp2YXIgQkFTRV9VUkwgPSAnLi4nOwoKZnVuY3Rpb24gZ2V0VXNlckRhdGEodXNlcm5hbWUpIHsKICAvKgogIGdldFVzZXJEYXRhIHJldHVybnMgYXJyYXkgb2YgdXNlciBkYXRhCiAgIHVybDogY29tYmluZWQgVVJMIGZyb20gQkFTRSBVUkwgYW5kIGdldCB1c2VyIGRhdGEgYXBpCiAgYnVzUGFja2FnZTogZGF0YSBwYWNrZWQgaW50byBhbiBvYmplY3QKICBBcmdzOgogICAgICB1c2VybmFtZSBzdHJpbmcKICBSZXR1cm5zOgogICAgICBPYmplY3Q6IHNlbmRzIGJ1c1BhY2thZ2UgYW5kIHRyaWdnZXJzIGdldFVzZXJEYXRhIExpc3RlbmVyCiAgKi8KICB3aW5kb3cuY29uc29sZS5sb2coImFwaUludGVyZmFjZSBbZ2V0VXNlckRhdGFdICIpOwogIHZhciB1cmwgPSBCQVNFX1VSTCArICcvdHJhY2tlci1iZS9waHAvZ2V0VXNlckRhdGEucGhwJzsKICB2YXIgcGF5bG9hZCA9IHsKICAgIHVzZXJuYW1lOiB1c2VybmFtZQogIH07CiAgYXhpb3MucG9zdCh1cmwsIHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAvL3dpbmRvdy5jb25zb2xlLmxvZygiW2FwaV0gUkVTUE9OU0UgZm9yIFNDSEVEVUxFIGFwaUludGVyZmFjZSBnZXRDaGFyZ2luZ1NjaGVkdWxlIikKICAgIHZhciBidXNQYWNrYWdlID0gewogICAgICBkYXRhOiBbXSwKICAgICAgc3RhdHVzOiA0MDAKICAgIH07CgogICAgaWYgKHJlc3BvbnNlLmRhdGFbInVzZXJEYXRhIl0gPT09IHVuZGVmaW5lZCkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coIkVycm9yLCBkaWQgbm90IGdldCB1c2VyIGRhdGEgYXJyYXkiKTsKICAgICAgRXZlbnRCdXMuJGVtaXQoJ2dldFVzZXJEYXRhJywgYnVzUGFja2FnZSk7CiAgICB9IGVsc2UgewogICAgICBidXNQYWNrYWdlID0gewogICAgICAgIGRhdGE6IHJlc3BvbnNlLmRhdGFbInVzZXJEYXRhIl0sCiAgICAgICAgc3RhdHVzOiByZXNwb25zZS5kYXRhWyJzdGF0dXMiXQogICAgICB9OwogICAgICBFdmVudEJ1cy4kZW1pdCgnZ2V0VXNlckRhdGEnLCBidXNQYWNrYWdlKTsKICAgIH0KICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coIkVycm9yLCBkaWQgbm90IGdldCByZXNwb25zZSIpOyAvL3dpbmRvdy5jb25zb2xlLmxvZygiW2FwaV0gZ2V0TG9uZ1RyaXBzIEdFVCBFUlJPUiIpCiAgICAgIC8vd2luZG93LmNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgICAvL3dpbmRvdy5jb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5zdGF0dXMpOwogICAgICAvL3dpbmRvdy5jb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5oZWFkZXJzKTsKICAgIH0KICB9KTsKfQoKZnVuY3Rpb24gYWRkVHJhY2tpbmdOdW1iZXIoZGVzY3JpcHRpb24sIHRyYWNraW5nTnVtYmVyLCB1c2VybmFtZSkgewogIC8qCiAgYWRkVHJhY2tpbmdOdW1iZXIgcmV0dXJucyBzdGF0dXMgbnVtYmVyIDIwMD1zdWNjZXNzIDQwMD1mYWlsCiAgIHVybDogY29tYmluZWQgVVJMIGZyb20gQkFTRSBVUkwgYW5kIGdldCB1c2VyIGRhdGEgYXBpCiAgYnVzUGFja2FnZTogZGF0YSBwYWNrZWQgaW50byBhbiBvYmplY3QKICAgUmV0dXJuczoKICAgICAgT2JqZWN0OiBzZW5kcyBidXNQYWNrYWdlIGFuZCB0cmlnZ2VycyBhZGRUcmFja2luZ051bWJlciBMaXN0ZW5lcgogICovCiAgd2luZG93LmNvbnNvbGUubG9nKCJhcGlJbnRlcmZhY2UgW2FkZFRyYWNraW5nTnVtYmVyXSAiKTsKICB2YXIgdXJsID0gQkFTRV9VUkwgKyAnL3RyYWNrZXItYmUvcGhwL2FkZFRyYWNraW5nTnVtYmVyLnBocCc7CiAgdmFyIHBheWxvYWQgPSB7CiAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sCiAgICB0cmFja2luZ051bWJlcjogdHJhY2tpbmdOdW1iZXIsCiAgICB1c2VybmFtZTogdXNlcm5hbWUKICB9OwogIGF4aW9zLnBvc3QodXJsLCBwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgLy93aW5kb3cuY29uc29sZS5sb2coIlthcGldIFJFU1BPTlNFIGZvciBTQ0hFRFVMRSBhcGlJbnRlcmZhY2UgZ2V0Q2hhcmdpbmdTY2hlZHVsZSIpCiAgICBpZiAocmVzcG9uc2UuZGF0YSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygiRXJyb3IsIGRpZCBub3QgZ2V0IGFkZFRhY2tpbmdOdW1iZXIgcmVzcG9uc2UiKTsgLy8gVE9ETzogc2hvdyBlcnJvcj8KICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSA0MDApIHsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJFcnJvciwgZ290IGFkZFRhY2tpbmdOdW1iZXIgZXJyb3IiKTsgLy8gVE9ETzogc2hvdyBlcnJvcj8KICAgIH0KCiAgICBnZXRVc2VyRGF0YSh1c2VybmFtZSk7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJFcnJvciwgZGlkIG5vdCBnZXQgcmVzcG9uc2UiKTsgLy93aW5kb3cuY29uc29sZS5sb2coIlthcGldIGdldExvbmdUcmlwcyBHRVQgRVJST1IiKQogICAgICAvL3dpbmRvdy5jb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKTsKICAgICAgLy93aW5kb3cuY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgLy93aW5kb3cuY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuaGVhZGVycyk7CiAgICB9CiAgfSk7Cn0KCmZ1bmN0aW9uIHVwbG9hZEltYWdlKHNlbGVjdGVkSXRlbSwgaW1hZ2UsIHVzZXJuYW1lKSB7CiAgLyoKICB1cGxvYWRJbWFnZSByZXR1cm5zIHN0YXR1cyBudW1iZXIgMjAwPXN1Y2Nlc3MgNDAwPWZhaWwKICAgdXJsOiBjb21iaW5lZCBVUkwgZnJvbSBCQVNFIFVSTCBhbmQgZ2V0IHVzZXIgZGF0YSBhcGkKICBidXNQYWNrYWdlOiBkYXRhIHBhY2tlZCBpbnRvIGFuIG9iamVjdAogICBSZXR1cm5zOgogICAgICBPYmplY3Q6IHNlbmRzIGJ1c1BhY2thZ2UgYW5kIHRyaWdnZXJzIHVwbG9hZEltYWdlIExpc3RlbmVyCiAgKi8KICB2YXIgdXJsID0gJy90cmFja2VyLWJlL3BocC91cGxvYWRJbWFnZS5waHAnOwogIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgZGF0YS5hcHBlbmQoJ25hbWUnLCAnbXktcGljdHVyZScpOwogIGRhdGEuYXBwZW5kKCdmaWxlJywgaW1hZ2UudGFyZ2V0LmZpbGVzWzBdKTsKICB2YXIgY29uZmlnID0gewogICAgcGFyYW1zOiB7CiAgICAgIGlkOiBzZWxlY3RlZEl0ZW0uaWQKICAgIH0sCiAgICBoZWFkZXI6IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgfSwKICAgIGJhc2VVUkw6IEJBU0VfVVJMCiAgfTsKICBheGlvcy5wb3N0KHVybCwgZGF0YSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgLy9UT0RPOiBoYW5kbGUgZXJyb3IgaWYgcmVzcG9uc2UgaXMgbm90IDIwMAogICAgY29uc29sZS5sb2coJ2ltYWdlIHVwbG9hZCByZXNwb25zZSA+ICcsIHJlc3BvbnNlKTsKICAgIGdldFVzZXJEYXRhKHVzZXJuYW1lKTsKICB9KTsgLy8gdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgLy8gLy8gdmFyIGltYWdlZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlJyk7CiAgLy8gZm9ybURhdGEuYXBwZW5kKCJpbWFnZSIsIGltYWdlLnRhcmdldC5maWxlc1swXSk7CiAgLy8gYXhpb3MucG9zdCh1cmwsIGZvcm1EYXRhLCB7CiAgLy8gICAgIGhlYWRlcnM6IHsKICAvLyAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAvLyAgICAgfQogIC8vIH0pCn0gLy8gZXhwb3J0IGFsbCBmdW5jdGlvbnMgdG8gbWFrZSB0aGVtIHVzYWJsZSBmb3Igb3RoZXIgZmlsZXMKCgpleHBvcnQgZGVmYXVsdCB7CiAgZ2V0VXNlckRhdGE6IGdldFVzZXJEYXRhLAogIGFkZFRyYWNraW5nTnVtYmVyOiBhZGRUcmFja2luZ051bWJlciwKICB1cGxvYWRJbWFnZTogdXBsb2FkSW1hZ2UKfTs="},{"version":3,"sources":["/Users/account/repos/_personal/tracker/src/apiInterface.js"],"names":["axios","EventBus","BASE_URL","getUserData","username","window","console","log","url","payload","post","then","response","busPackage","data","status","undefined","$emit","catch","error","addTrackingNumber","description","trackingNumber","uploadImage","selectedItem","image","FormData","append","target","files","config","params","id","header","baseURL"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { EventBus } from './event-bus.js';\n\n// Base URL for API Calls to the remix/evolve backend\nvar BASE_URL = '..'\n\nfunction getUserData(username){\n    /*\n    getUserData returns array of user data\n\n    url: combined URL from BASE URL and get user data api\n    busPackage: data packed into an object\n    Args:\n        username string\n    Returns:\n        Object: sends busPackage and triggers getUserData Listener\n    */\n    window.console.log(\"apiInterface [getUserData] \");\n    var url = BASE_URL + '/tracker-be/php/getUserData.php'\n    const payload = { username: username }\n\n    axios.post(url, payload)\n        .then(response => {\n            //window.console.log(\"[api] RESPONSE for SCHEDULE apiInterface getChargingSchedule\")\n            var busPackage = { data: [], status: 400 }\n            if (response.data[\"userData\"]===undefined)\n            {\n                window.console.log(\"Error, did not get user data array\");\n                EventBus.$emit('getUserData', busPackage);\n            }\n            else\n            {\n                busPackage = { data: response.data[\"userData\"], status: response.data[\"status\"]}\n                EventBus.$emit('getUserData', busPackage);\n            }\n        })\n        .catch(function (error) {\n            if (error.response) {\n                window.console.log(\"Error, did not get response\");\n                //window.console.log(\"[api] getLongTrips GET ERROR\")\n                //window.console.log(error.response.data);\n                //window.console.log(error.response.status);\n                //window.console.log(error.response.headers);\n            }\n        })\n}\n\nfunction addTrackingNumber(description, trackingNumber, username) {\n    /*\n    addTrackingNumber returns status number 200=success 400=fail\n\n    url: combined URL from BASE URL and get user data api\n    busPackage: data packed into an object\n\n    Returns:\n        Object: sends busPackage and triggers addTrackingNumber Listener\n    */\n\n    window.console.log(\"apiInterface [addTrackingNumber] \");\n    var url = BASE_URL + '/tracker-be/php/addTrackingNumber.php'\n    const payload = { description: description, trackingNumber: trackingNumber, username: username}\n\n    axios.post(url, payload)\n        .then(response => {\n            //window.console.log(\"[api] RESPONSE for SCHEDULE apiInterface getChargingSchedule\")\n            if (response.data === undefined) {\n                window.console.log(\"Error, did not get addTackingNumber response\");\n                // TODO: show error?\n            }\n            else if (response.data == 400)\n            {\n                window.console.log(\"Error, got addTackingNumber error\");\n                // TODO: show error?\n            }\n            getUserData(username)\n        })\n        .catch(function (error) {\n            if (error.response) {\n                window.console.log(\"Error, did not get response\");\n                //window.console.log(\"[api] getLongTrips GET ERROR\")\n                //window.console.log(error.response.data);\n                //window.console.log(error.response.status);\n                //window.console.log(error.response.headers);\n            }\n        })\n}\n\nfunction uploadImage(selectedItem, image, username) {\n    /*\n    uploadImage returns status number 200=success 400=fail\n\n    url: combined URL from BASE URL and get user data api\n    busPackage: data packed into an object\n\n    Returns:\n        Object: sends busPackage and triggers uploadImage Listener\n    */\n    var url = '/tracker-be/php/uploadImage.php'\n    let data = new FormData();\n    data.append('name', 'my-picture');\n    data.append('file', image.target.files[0]);\n\n\n    let config = {\n        params: { id: selectedItem.id },\n        header: { 'Content-Type': 'multipart/form-data' },\n        baseURL: BASE_URL,\n    }\n\n    axios.post(\n        url,\n        data,\n        config\n    ).then(\n        response => {\n            //TODO: handle error if response is not 200\n            console.log('image upload response > ', response)\n\n            getUserData(username)\n        }\n    )\n\n    // var formData = new FormData();\n    // // var imagefile = document.querySelector('#file');\n    // formData.append(\"image\", image.target.files[0]);\n    // axios.post(url, formData, {\n    //     headers: {\n    //         'Content-Type': 'multipart/form-data'\n    //     }\n    // })\n\n    \n}\n\n// export all functions to make them usable for other files\nexport default { getUserData, addTrackingNumber, uploadImage}"]}]}