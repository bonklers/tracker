{"remainingRequest":"/Users/account/repos/_personal/tracker/node_modules/babel-loader/lib/index.js!/Users/account/repos/_personal/tracker/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/account/repos/_personal/tracker/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/account/repos/_personal/tracker/src/components/UserPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/account/repos/_personal/tracker/src/components/UserPage.vue","mtime":1617686857520},{"path":"/Users/account/repos/_personal/tracker/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/account/repos/_personal/tracker/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/account/repos/_personal/tracker/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/account/repos/_personal/tracker/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFkZCBmcm9tICcuL0FkZCc7CmltcG9ydCBhcGlJbnRlcmZhY2UgZnJvbSAiLi4vYXBpSW50ZXJmYWNlIjsKaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICIuLi9ldmVudC1idXMuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgdHJhY2tpbmdOdW1iZXI6ICdVc2VyUGFnZScsCiAgcHJvcHM6IHsKICAgIHVzZXJuYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFkZDogQWRkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0ZWRJdGVtOiB7fSwKICAgICAgc2hvd1BpYzogZmFsc2UsCiAgICAgIHNob3dVcGxvYWQ6IGZhbHNlLAogICAgICBhZGRTdGF0dXM6IDIwMCwKICAgICAgZW5hYmxlRWRpdDogZmFsc2UsCiAgICAgIG5ld1RyYWNraW5nTnVtYmVyOiAiIiwKICAgICAgYWRtaW5IZWFkZXJzOiBbewogICAgICAgIHRleHQ6ICdVc3VhcmlvJywKICAgICAgICBhbGlnbjogJ3N0YXJ0JywKICAgICAgICB2YWx1ZTogJ3VzZXJuYW1lJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0Rlc2NyaXBjaW9uJywKICAgICAgICB2YWx1ZTogJ2Rlc2NyaXB0aW9uJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ051bWVybyBUcmFja2luZycsCiAgICAgICAgdmFsdWU6ICd0cmFja2luZ051bWJlcicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdGZWNoYSBJbmdyZXNhZGEnLAogICAgICAgIHZhbHVlOiAnc2VudERhdGUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnU3RhdHVzJywKICAgICAgICB2YWx1ZTogJ3JlY2VpdmVkRGF0ZScKICAgICAgfV0sCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogJ0Rlc2NyaXBjaW9uJywKICAgICAgICBhbGlnbjogJ3N0YXJ0JywKICAgICAgICB2YWx1ZTogJ2Rlc2NyaXB0aW9uJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ051bWVybyBUcmFja2luZycsCiAgICAgICAgdmFsdWU6ICd0cmFja2luZ051bWJlcicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdGZWNoYSBJbmdyZXNhZGEnLAogICAgICAgIHZhbHVlOiAnc2VudERhdGUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnU3RhdHVzJywKICAgICAgICB2YWx1ZTogJ3JlY2VpdmVkRGF0ZScKICAgICAgfV0sCiAgICAgIHVzZXJEYXRhOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB0aGlzLmFkZFN0YXR1cyA9IDA7CiAgICB9LAogICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKHZhbHVlKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gdmFsdWU7CgogICAgICBpZiAodmFsdWUucmVjZWl2ZWREYXRlID09ICJObyBSZWNpYmlkbyIpIHsKICAgICAgICBpZiAodGhpcy5lbmFibGVFZGl0ID09IHRydWUpIHsKICAgICAgICAgIHRoaXMuc2hvd1VwbG9hZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd1BpYyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICB1cGxvYWRJbWFnZTogZnVuY3Rpb24gdXBsb2FkSW1hZ2UoaW1hZ2UpIHsKICAgICAgYXBpSW50ZXJmYWNlLnVwbG9hZEltYWdlKHRoaXMuc2VsZWN0ZWRJdGVtLCBpbWFnZSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBjb25zb2xlLmxvZygiVXNlclBhZ2UgY3JlYXRlZCIpOwogICAgRXZlbnRCdXMuJG9uKCJhZGRUcmFja2luZ051bWJlciIsIGZ1bmN0aW9uIChidXNQYWNrYWdlKSB7CiAgICAgIGNvbnNvbGUubG9nKCJBcHAgaGFuZGxlIGFkZFRyYWNraW5nTnVtYmVyIik7CiAgICAgIF90aGlzLmFkZFN0YXR1cyA9IGJ1c1BhY2thZ2UuYWRkU3RhdHVzOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygicmVxdWVzdCB1c2VyIGRhdGEiKTsKICAgIGFwaUludGVyZmFjZS5nZXRVc2VyRGF0YSh0aGlzLnVzZXJuYW1lKTsKICAgIEV2ZW50QnVzLiRvbigiZ2V0VXNlckRhdGEiLCBmdW5jdGlvbiAoYnVzUGFja2FnZSkgewogICAgICBjb25zb2xlLmxvZygiQXBwIGhhbmRsZSBnZXRVc2VyRGF0YSIpOwogICAgICBfdGhpcy5zZWxlY3RlZEl0ZW0gPSB7fTsKICAgICAgX3RoaXMuc2hvd1BpYyA9IGZhbHNlOwogICAgICBfdGhpcy5zaG93VXBsb2FkID0gZmFsc2U7CiAgICAgIF90aGlzLmFkZFN0YXR1cyA9IDIwMDsKCiAgICAgIGlmIChidXNQYWNrYWdlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICBfdGhpcy51c2VyRGF0YSA9IGJ1c1BhY2thZ2UuZGF0YTsKICAgICAgICBfdGhpcy5lbmFibGVFZGl0ID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coInNldCBuZXcgZGF0YSBzaXplOiIgKyBidXNQYWNrYWdlLmRhdGEubGVuZ3RoKTsKICAgICAgfSBlbHNlIGlmIChidXNQYWNrYWdlLnN0YXR1cyA9PSA1MDApIHsKICAgICAgICBfdGhpcy51c2VyRGF0YSA9IGJ1c1BhY2thZ2UuZGF0YTsKICAgICAgICBfdGhpcy5lbmFibGVFZGl0ID0gdHJ1ZTsKICAgICAgICBjb25zb2xlLmxvZygic2V0IG5ldyBkYXRhIHNpemU6IiArIGJ1c1BhY2thZ2UuZGF0YS5sZW5ndGgpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBnZXR0aW5nIGRhdGE6ICIgKyBidXNQYWNrYWdlLnN0YXR1cyk7CiAgICAgIH0KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["UserPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"UserPage\">\n        <v-container v-if=\"addStatus==200\">\n            <v-app-bar\n            app\n            color=\"success\"\n            dark\n            >\n                <div class=\"d-flex align-center\">\n                    <v-img\n                    alt=\"Vuetify Logo\"\n                    class=\"shrink mr-2\"\n                    contain\n                    src=\"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png\"\n                    transition=\"scale-transition\"\n                    width=\"40\"\n                    />\n                    <div>\n                        Bienvenido, {{ username }}\n                    </div>\n                </div>\n\n                <v-spacer></v-spacer>\n\n                <v-btn v-if=\"enableEdit==false\"\n                    depressed\n                    color=\"primary\"\n                    \n                    @click=\"add()\"\n                >Agregar</v-btn>\n            </v-app-bar>\n            <v-row class=\"white--text\"> . </v-row>\n            <v-data-table\n                :headers=\"enableEdit ? adminHeaders : headers\"\n                :items=\"userData\"\n                :items-per-page=\"5\"\n                class=\"elevation-1\"\n                @click:row=\"handleClick\"\n            ></v-data-table>\n            <!-- TODO: for admin SHOW username in table -->\n            \n            <div class=\"overlay\">\n                <v-overlay\n                    :value=\"showPic\"\n                    opacity=0.8\n                >\n                    <v-card>\n                        <v-row class=\"mx-6 mt-6\"> \n                            <v-img :src=\"'../../tracker-be/'+selectedItem.imageLocation\" max-width=\"500\" max-height=\"500\"/>\n                        </v-row>\n                            \n                        <v-row class=\"mx-6 my-6\">\n                            <v-btn\n                                depressed\n                                width = \"100%\"\n                                color=\"primary\"\n                                @click=\"showPic=false\"\n                            >Cerrar</v-btn>\n                        </v-row>\n                        <v-row></v-row>\n                    </v-card>\n                </v-overlay>\n            </div>\n\n            <div class=\"overlay\">\n                <v-overlay\n                    :value=\"showUpload\"\n                    opacity=0.8\n                >\n                    <v-card>\n                        <input type=\"file\" accept=\"image/*\" name=\"fileToUpload\" @change=\"uploadImage($event)\" id=\"file-input\" class=\"uploadButton\"> \n                        <v-row class=\"mx-6 my-6\">\n                            <v-btn\n                                depressed\n                                width = \"100%\"\n                                color=\"error\"\n                                @click=\"showUpload=false\"\n                            >Cancelar</v-btn>\n                        </v-row>\n                        <v-row></v-row>\n                    </v-card>\n                </v-overlay>\n            </div>\n\n        </v-container>\n        <div v-else>\n            <Add :username=\"username\"/>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Add from './Add';\nimport apiInterface from \"../apiInterface\";\nimport { EventBus } from \"../event-bus.js\";\n\nexport default {\n    trackingNumber: 'UserPage',\n    props: {\n        username: {\n            type: String,\n            default: \"\"\n        }\n    },\n    components: {\n\t\tAdd\n\t},\n\n\tdata(){\n\t\treturn {\n            selectedItem: {},\n            showPic: false,\n            showUpload: false,\n\t\t\taddStatus: 200,\n            enableEdit: false,\n            newTrackingNumber: \"\",\n            adminHeaders: [\n                {\n                    text: 'Usuario',\n                    align: 'start',\n                    value: 'username',\n                },\n                { text: 'Descripcion', value: 'description' },\n                { text: 'Numero Tracking', value: 'trackingNumber' },\n                { text: 'Fecha Ingresada', value: 'sentDate' },\n                { text: 'Status', value: 'receivedDate' },\n            ],\n            headers: [\n                {\n                    text: 'Descripcion',\n                    align: 'start',\n                    value: 'description',\n                },\n                { text: 'Numero Tracking', value: 'trackingNumber' },\n                { text: 'Fecha Ingresada', value: 'sentDate' },\n                { text: 'Status', value: 'receivedDate' },\n            ],\n            userData: [],\n\t\t}\n\t},\n\n    methods:{\n        add(){\n            this.addStatus = 0\n        },\n        handleClick(value) {\n            this.selectedItem = value\n            if(value.receivedDate == \"No Recibido\")\n            {\n                if(this.enableEdit == true)\n                {\n                    this.showUpload = true\n                }\n            }\n            else\n            {\n                this.showPic = true\n            }\n        },\n        uploadImage(image){\n            apiInterface.uploadImage(this.selectedItem, image);\n        }\n    },\n\n\tcreated() \n\t{\n\t\tconsole.log(\"UserPage created\")\n\t\tEventBus.$on(\"addTrackingNumber\", busPackage => {\n\t\t\tconsole.log(\"App handle addTrackingNumber\")\n\t\t\tthis.addStatus = busPackage.addStatus;\n\t\t});\n\n        console.log(\"request user data\");\n        apiInterface.getUserData(this.username);\n\n        EventBus.$on(\"getUserData\", busPackage => {\n\t\t\tconsole.log(\"App handle getUserData\")\n            this.selectedItem = {}\n            this.showPic = false\n            this.showUpload = false\n            this.addStatus = 200\n            if(busPackage.status == 200)\n            {\n                this.userData = busPackage.data;\n                this.enableEdit = false;\n                console.log(\"set new data size:\"+busPackage.data.length)\n            }\n            else if(busPackage.status == 500)\n            {\n                this.userData = busPackage.data;\n                this.enableEdit = true;\n                console.log(\"set new data size:\"+busPackage.data.length)  \n            }\n            else\n            {\n                console.log(\"Error getting data: \"+busPackage.status)\n            }\n\t\t});\n\t}\n}\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.tracking{\n    max-width: 400px;\n}\n\ninput[type=text] {\n    padding:5px; \n    border:2px solid #ccc; \n    -webkit-border-radius: 5px;\n    border-radius: 5px;\n}\n\ninput[type=text]:focus {\n    border-color:#333;\n}\n\ninput[type=submit] {\n    padding:5px 15px; \n    background:#4caf50 !important; \n    border:0 none;\n    cursor:pointer;\n    -webkit-border-radius: 5px;\n    border-radius: 5px; \n    margin-left: 24px;\n    margin-top: 24px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}